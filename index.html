<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Petrol Pump Receipt Generator</title>
  <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    header {
      background: #1f2937;
      color: white;
      padding: 1rem;
      text-align: center;
      font-weight: bold;
      font-size: 20px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      padding: 1rem;
      gap: 1rem;
    }
    .form-section, .preview-section {
      background: white;
      border-radius: 10px;
      padding: 1rem;
      flex: 1 1 300px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 0.8rem;
      font-weight: bold;
      font-size: 14px;
    }
    input {
      width: 100%;
      padding: 6px 10px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }
    #receipt {
      font-family: monospace;
      font-size: 12px;
      width: 260px;
      background: white;
      padding: 10px;
      white-space: pre;
      border: 1px solid #ddd;
      margin-top: 1rem;
    }
    .center {
      text-align: center;
      font-weight: bold;
    }
    .btn {
      background: #1f2937;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 1rem;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <header>
    ⛽ Petrol Pump Receipt Generator
  </header>

  <div class="container">
    <div class="form-section">
      <label>Bill No.</label>
      <input type="text" id="billNo" value="247675-ORGNL"/>

      <label>Transaction ID</label>
      <input type="text" id="txnId" value="00014886"/>

      <label>Vehicle No.</label>
      <input type="text" id="vehicleNo" value="1210724953"/>

      <label>Date</label>
      <input type="text" id="date" value="05/08/22"/>

      <label>FP. ID</label>
      <input type="text" id="fpId" value="2"/>

      <label>Nozzle No.</label>
      <input type="text" id="nozzleNo" value="2"/>

      <label>Fuel Type</label>
      <input type="text" id="fuelType" value="DIESEL"/>

      <label>Density</label>
      <input type="text" id="density" value="825.5kg/m3"/>

      <label>Preset Value</label>
      <input type="text" id="presetVal" value="Rs.3000"/>

      <label>Rate</label>
      <input type="text" id="rate" value="Rs.94.44"/>

      <label>Sale</label>
      <input type="text" id="sale" value="Rs.2828.47"/>

      <label>Volume</label>
      <input type="text" id="volume" value="29.95L"/>

      <button class="btn" onclick="downloadPDF()">⬇️ Download PDF</button>
    </div>

    <div class="preview-section">
      <div id="receipt">
        <div class="center">[LOGO]</div>
        <div class="center">M/S VIKAS PETROLEUM</div>
        <div class="center">BANDRA CHOK</div>
        <div class="center">MUZFFARPUR</div>
        <div class="center">7004771146</div>
        <div class="center">TIN NO. 10312342086</div>

        <br/>
Bill No.       :247675-ORGNL  
Transac. ID.   :00014886  
Vehicle No.    :1210724953  
Date.          :05/08/22  
FP. ID         :2  
Nozzle No.     :2  
Fuel Type      :DIESEL  
Density        :825.5kg/m3  
Preset val.    :Rs.3000  
Rate           :Rs.94.44  
Sale           :Rs.2828.47  
Volume.        :29.95L  

        <br/>
        <div class="center">THANKS</div>
        <div class="center">VISIT AGAIN</div>
      </div>
    </div>
  </div>

  <script>
    const fields = [
      "billNo", "txnId", "vehicleNo", "date", "fpId", "nozzleNo",
      "fuelType", "density", "presetVal", "rate", "sale", "volume"
    ];

    fields.forEach(id => {
      document.getElementById(id).addEventListener("input", updateReceipt);
    });

    function updateReceipt() {
      const data = {};
      fields.forEach(id => {
        data[id] = document.getElementById(id).value;
      });

      document.getElementById("receipt").innerHTML = `
<div class="center">[LOGO]</div>
<div class="center">M/S VIKAS PETROLEUM</div>
<div class="center">BANDRA CHOK</div>
<div class="center">MUZFFARPUR</div>
<div class="center">7004771146</div>
<div class="center">TIN NO. 10312342086</div>

<br/>
Bill No.       :${data.billNo}  
Transac. ID.   :${data.txnId}  
Vehicle No.    :${data.vehicleNo}  
Date.          :${data.date}  
FP. ID         :${data.fpId}  
Nozzle No.     :${data.nozzleNo}  
Fuel Type      :${data.fuelType}  
Density        :${data.density}  
Preset val.    :${data.presetVal}  
Rate           :${data.rate}  
Sale           :${data.sale}  
Volume.        :${data.volume}  

<br/>
<div class="center">THANKS</div>
<div class="center">VISIT AGAIN</div>`;
    }

    function downloadPDF() {
      const receipt = document.getElementById("receipt");
      html2pdf().set({
        margin: 0,
        filename: 'receipt.pdf',
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'mm', format: [58, 150], orientation: 'portrait' }
      }).from(receipt).save();
    }
  </script>
</body>
</html>
